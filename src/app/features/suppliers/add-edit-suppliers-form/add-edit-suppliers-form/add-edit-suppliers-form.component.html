<!-- Dialog Header -->
<div class="dialog-header">
    <div class="header-content">
        <h2 class="dialog-title">
            <mat-icon class="title-icon">{{dialogData?.action === 'Editar' ? 'edit' : 'add_circle'}}</mat-icon>
            {{dialogData?.action === 'Editar' ? 'Editar Proveedor' : 'Agregar Proveedor'}}
        </h2>
        <button mat-icon-button class="close-button" mat-dialog-close aria-label="Cerrar">
            <mat-icon>close</mat-icon>
        </button>
    </div>
</div>

<!-- Dialog Content -->
<mat-dialog-content class="dialog-content">
    <form [formGroup]="supplierForm" (ngSubmit)="handleSubmit()" class="supplier-form">
        <div class="form-grid">
            <div class="form-field-wrapper form-field-half">
                <label class="field-label">Nombres<span class="required-asterisk">*</span></label>
                <mat-form-field appearance="outline">
                    <input matInput type="text" formControlName="first_name" placeholder="Nombres*" required appCapitalizeInput>
                    <mat-icon matPrefix>person</mat-icon>
                    <mat-error *ngIf="supplierForm.controls['first_name'].touched && supplierForm.controls['first_name'].invalid">
                        <span *ngIf="supplierForm.controls['first_name'].errors?.['required']">Campo obligatorio</span>
                        <span *ngIf="supplierForm.controls['first_name'].errors?.['pattern']">Información invalida</span>
                    </mat-error>
                </mat-form-field>
            </div>

            <div class="form-field-wrapper form-field-half">
                <label class="field-label">Apellidos<span class="required-asterisk">*</span></label>
                <mat-form-field appearance="outline">
                    <input matInput type="text" formControlName="last_name" placeholder="Apellidos*" required appCapitalizeInput>
                    <mat-icon matPrefix>person_outline</mat-icon>
                    <mat-error *ngIf="supplierForm.controls['last_name'].touched && supplierForm.controls['last_name'].invalid">
                        <span *ngIf="supplierForm.controls['last_name'].errors?.['required']">Campo obligatorio</span>
                        <span *ngIf="supplierForm.controls['last_name'].errors?.['pattern']">Información invalida</span>
                    </mat-error>
                </mat-form-field>
            </div>

            <div class="form-field-wrapper form-field-full">
                <label class="field-label">Correo Electrónico</label>
                <mat-form-field appearance="outline">
                    <input matInput type="email" formControlName="email" placeholder="ejemplo@gmail.com (opcional)">
                    <mat-icon matPrefix>email</mat-icon>
                    <mat-error *ngIf="supplierForm.controls['email'].touched && supplierForm.controls['email'].invalid">
                        <span *ngIf="supplierForm.controls['email'].errors?.['email']">Información invalida</span>
                    </mat-error>
                </mat-form-field>
            </div>

            <div class="form-field-wrapper form-field-half">
                <label class="field-label">Número de Contacto</label>
                <mat-form-field appearance="outline">
                    <input 
                        matInput 
                        type='text' 
                        mask="9999 9999" 
                        formControlName="phone" 
                        placeholder="Número de Contacto (opcional)">
                    <mat-icon matPrefix>phone</mat-icon>
                    <mat-error *ngIf="supplierForm.controls['phone'].touched && supplierForm.controls['phone'].invalid">
                        <span *ngIf="supplierForm.controls['phone'].errors?.['pattern']">Información invalida</span>
                    </mat-error>
                </mat-form-field>
            </div>

            <div class="form-field-wrapper form-field-half">
                <label class="field-label">Dirección</label>
                <mat-form-field appearance="outline">
                    <input matInput type="text" formControlName="s_address" placeholder="Dirección (opcional)">
                    <mat-icon matPrefix>location_on</mat-icon>
                    <mat-error *ngIf="supplierForm.controls['s_address'].touched && supplierForm.controls['s_address'].invalid">
                        <span *ngIf="supplierForm.controls['s_address'].errors?.['pattern']">Información invalida</span>
                    </mat-error>
                </mat-form-field>
            </div>

        </div>
    </form>
</mat-dialog-content>

<!-- Dialog Actions -->
<mat-dialog-actions class="dialog-actions">
    <button mat-stroked-button type="button" mat-dialog-close class="cancel-button">
        <mat-icon>close</mat-icon>
        Cancelar
    </button>
    <button mat-raised-button type="submit" (click)="handleSubmit()" class="save-button" [disabled]="supplierForm.invalid">
        <mat-icon>{{dialogData?.action === 'Editar' ? 'update' : 'save'}}</mat-icon>
        {{action}}
    </button>
</mat-dialog-actions>


