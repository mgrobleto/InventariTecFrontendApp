<!-- Dialog Header -->
<div class="dialog-header">
    <div class="header-content">
        <h2 class="dialog-title">
            <mat-icon class="title-icon">{{dialogData?.action === 'Editar' ? 'edit' : 'add_circle'}}</mat-icon>
            {{dialogData?.action === 'Editar' ? 'Editar Cliente' : 'Agregar Cliente'}}
        </h2>
        <button mat-icon-button class="close-button" mat-dialog-close aria-label="Cerrar">
            <mat-icon>close</mat-icon>
        </button>
    </div>
</div>

<!-- Dialog Content -->
<mat-dialog-content class="dialog-content">
    <form [formGroup]="customerForm" (ngSubmit)="handleSubmit()" class="customer-form">
        <div class="form-grid">
            <!-- First Name -->
            <div class="form-field-wrapper form-field-half">
                <label class="field-label">Nombres<span class="required-asterisk">*</span></label>
                <mat-form-field appearance="outline" class="form-field-half">
                    <input matInput type="text" formControlName="first_name" placeholder="Nombres*" required>
                    <mat-icon matPrefix>person</mat-icon>
                    <mat-error *ngIf="customerForm.controls['first_name'].touched && customerForm.controls['first_name'].invalid">
                        <span *ngIf="customerForm.controls['first_name'].errors?.['required']">Campo obligatorio</span>
                        <span *ngIf="customerForm.controls['first_name'].errors?.['pattern']">Formato inválido</span>
                    </mat-error>
                </mat-form-field>
            </div>

            <!-- Last Name -->
            <div class="form-field-wrapper form-field-half">
                <label class="field-label">Apellidos<span class="required-asterisk">*</span></label>
                <mat-form-field appearance="outline" class="form-field-half">
                    <input matInput type="text" formControlName="last_name" placeholder="Apellidos*" required>
                    <mat-icon matPrefix>person_outline</mat-icon>
                    <mat-error *ngIf="customerForm.controls['last_name'].touched && customerForm.controls['last_name'].invalid">
                        <span *ngIf="customerForm.controls['last_name'].errors?.['required']">Campo obligatorio</span>
                        <span *ngIf="customerForm.controls['last_name'].errors?.['pattern']">Formato inválido</span>
                    </mat-error>
                </mat-form-field>
            </div>

            <!-- Email -->
            <div class="form-field-wrapper form-field-full">
                <label class="field-label">Correo Electrónico<span class="required-asterisk">*</span></label>
                <mat-form-field appearance="outline" class="form-field-full">
                    <input matInput type="email" formControlName="email" placeholder="ejemplo@gmail.com" required>
                    <mat-icon matPrefix>email</mat-icon>
                    <mat-error *ngIf="customerForm.controls['email'].touched && customerForm.controls['email'].invalid">
                        <span *ngIf="customerForm.controls['email'].errors?.['required']">Campo obligatorio</span>
                        <span *ngIf="customerForm.controls['email'].errors?.['email']">Ingresa un correo válido</span>
                    </mat-error>
                </mat-form-field>
            </div>

            <!-- Phone -->
            <div class="form-field-wrapper form-field-half">
                <label class="field-label">Número de Contacto<span class="required-asterisk">*</span></label>
                <mat-form-field appearance="outline" class="form-field-half">
                    <input 
                        matInput 
                        type='text' 
                        mask="9999 9999" 
                        formControlName="phone"
                        placeholder="9999 9999" 
                        required>
                    <mat-icon matPrefix>phone</mat-icon>
                    <mat-error *ngIf="customerForm.controls['phone'].touched && customerForm.controls['phone'].invalid">
                        <span *ngIf="customerForm.controls['phone'].errors?.['required']">Campo obligatorio</span>
                        <span *ngIf="customerForm.controls['phone'].errors?.['pattern']">Formato inválido</span>
                    </mat-error>
                </mat-form-field>
            </div>

            <!-- Address -->
            <div class="form-field-wrapper form-field-half">
                <label class="field-label">Dirección<span class="required-asterisk">*</span></label>
                <mat-form-field appearance="outline" class="form-field-half">
                    <input matInput type="text" formControlName="c_address" placeholder="Dirección*" required>
                    <mat-icon matPrefix>home</mat-icon>
                    <mat-error *ngIf="customerForm.controls['c_address'].touched && customerForm.controls['c_address'].invalid">
                        <span *ngIf="customerForm.controls['c_address'].errors?.['required']">Campo obligatorio</span>
                        <span *ngIf="customerForm.controls['c_address'].errors?.['pattern']">Formato inválido</span>
                    </mat-error>
                </mat-form-field>
            </div>
        </div>
    </form>
</mat-dialog-content>

<!-- Dialog Actions -->
<mat-dialog-actions class="dialog-actions">
    <button mat-stroked-button type="button" mat-dialog-close class="cancel-button">
        <mat-icon>close</mat-icon>
        Cancelar
    </button>
    <button mat-raised-button type="submit" (click)="handleSubmit()" class="save-button" [disabled]="customerForm.invalid">
        <mat-icon>{{dialogData?.action === 'Editar' ? 'update' : 'save'}}</mat-icon>
        {{action}}
    </button>
</mat-dialog-actions>


